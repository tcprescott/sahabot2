from tortoise import BaseDBAsyncClient

RUN_IN_TRANSACTION = True


async def upgrade(db: BaseDBAsyncClient) -> str:
    return """
        CREATE TABLE IF NOT EXISTS `tournament_usage` (
    `id` INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    `last_accessed` DATETIME(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `organization_id` INT NOT NULL,
    `organization_name` VARCHAR(255) NOT NULL,
    `tournament_name` VARCHAR(255) NOT NULL,
    `tournament_id` INT NOT NULL,
    `user_id` INT NOT NULL,
    UNIQUE KEY `uid_tournament__user_id_5cfa48` (`user_id`, `tournament_id`),
    CONSTRAINT `fk_tourname_tourname_d788dae4` FOREIGN KEY (`tournament_id`) REFERENCES `tournament` (`id`) ON DELETE CASCADE,
    CONSTRAINT `fk_tourname_users_e48bcd19` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE,
    KEY `idx_tournament__last_ac_d38462` (`last_accessed`),
    KEY `idx_tournament__user_id_e16743` (`user_id`),
    KEY `idx_tournament__user_id_02130b` (`user_id`, `last_accessed`)
) CHARACTER SET utf8mb4 COMMENT='Track user tournament access for recent tournament history.';"""


async def downgrade(db: BaseDBAsyncClient) -> str:
    return """
        DROP TABLE IF EXISTS `tournament_usage`;"""


MODELS_STATE = (
    "eJztXdty2zjSfhWUb9apUjKOEycZ/X9tlZJ4Mp6xI5cPO1MbT6kgEpawpkAtCdrRbuXdtw"
    "GeSZAiJUoiZcxFxgLRTfLDqb/uBvjfg5ltEst9desS56CP/nvA8IzAH6nyHjrA83lcKgo4"
    "Hluyogc1ZAkeu9zBBofCe2y5BIpM4hoOnXNqM1FVKENSBXLI3CEuYZyyCfpMXcN2zJfY41"
    "NRZGBOTCQVvxKaTdsA1VBzVSV37I4NOKgYe5y4/TuG4D9q9tGlQ2fYWaAHsvALTV/LSFwM"
    "NEod6OwzOvQY/bdHXqRriqsCtHR9UZKuJ/4Pd6MMc9uJK6eK0aEpXsl/9PEiqgSPDY845+"
    "ge6hj2bI45HVOL8kXmYfAj5jih3f+NptidpiuSGaZWXE/+RNg0AU/XrwlNSTidEQnFFfy4"
    "gR+vJpMsHD3EPMsSveFFRtBHJSsqStFhkQw2DHiCEbcfCOuj4QAa8xj5hUgWSgiSOgeXZz"
    "l1c+LMqOtCt+sj2V/iAmSRR2IFPcCF+3H6CE/5x5RAt3EQ/OO/INzT9hiHOsiv44sYDhGN"
    "M8K8jwZBFVkmVIs3cDmezf263tyM6p5jlwcFcTXRt30Q4YUn8gGgh3/7C4opM8l34oY/5w"
    "+je0osMzVEqSkUyPIRX8xl2Rnjv8iKYtiMR4ZteTMWV54v+NRmUW3KuCidEEYc8ahQxh3R"
    "pAchoInB7D9pXMV/xISMSe6xZ4nxL6Rzwz8sTAzmoMiwmZg64Glc+YITcZeXx6/fvn/74c"
    "27tx+ginySqOT9D//14nf3BSUCX28Ofsjr0PX9GhLGGLd4jOfx+0gnhRCm5ZZDGQLXAix/"
    "Pj5+8+b98dGbdx9O3r5/f/LhKAI1f6kM3Y9nXwTAUMGGMeuvACHieYTD8Z7H+dMUO+UoJ2"
    "UzWMMLroJ1WBCDHa9TDaE9w99HFmETPhXd9eSkBMl/DK4+/Tq4OoRaL9J4fg0uHfvX1NCm"
    "1o1V8M0pWAnkoLvuDOO3FRB+W4jv2yJ0/XVzFVhjyU7iudE+K62MVUCNBDWmIaYJ86wOoh"
    "mxRvDc+Bq2RTTrrlY5Qd1Dc5gmbfo8tjfke4G9VaigIxiXQHpz+qc0omau+28rieThxeBP"
    "CfJsEVw5H379ElZPIP/pfPgxA3hMcpS84JR5Mwn0GTwlZgbJAZ5W0IyBWwXmoxzGB7fXp1"
    "dw4Y5dDD+fXg1uhvDrBH4OPl+cfe2j10fw9/XtJVzyC46PjrKeglKD+M3x+3eRCSx+lBm9"
    "1xeD8/O8lRvRRwWNsG2LYFZAxZJyGZTHILgpmKNpuene/HE4PE/15o9n2e56e/Hx9Orwte"
    "zaUInyAuaA53Qk3ntkgWnKR9AjR2CielyBcSFPK9WxUq/ewfzcCAeOcY39FnkgP8MVMc+q"
    "0UxLZuAzA9FX4R8t5WXwDuaQWYugLctm5rOL0+ubwcVlqkN/HtyciivHqak5LD18l1kXIy"
    "Xoj7ObX5H4if45/HoqEbRdPnHkHeN6N/88EM+EPW6PmP00wmbCjgpLQ2BSDRs7meo2bFpS"
    "N+xOG1Y+vPD03T8kfFaiYIyNhycMJCh1JTFjeiZMcpY9cRXLUCD7y+9XxJI+SkVTB57+gd"
    "Bzbk9aOR3+CDtvWBq3d3rtkDbiukjM6U1oaravy1eEYu7YjzC4YfZ+Wg+NT4GGbvYJ8f6j"
    "GZmNieNO6XzNnlERi7b2ihnmxnQ0t/AiCNmtjsSFUHUZa+ooItz2pJOZ8WZguYn0dR8b25"
    "lgRv8j33hNWIYJVRdyMHYYl9AgpuwRaEyDyJxJhR1GxqLsAYCZeFRYKWvhEgSmvwhVHUYk"
    "7Cscuw9rInJtTInpWcS8AV3dXZCxu2DGKDHvNma/CsXx/LsH5mwWKeEPbRYkkUfR4dGVwM"
    "Zz8UTlh1tp7b4NlXUIF0EV7WO7iDzmL82OZ9kSzOC9zeDe4k5ZaqhIEEuOs+IksfQgX54p"
    "JrUiqC/TfUTlB5HjFWTmSIsknxlWRah6JpgQ66NfbIfQCRPFiNt+MtHT1BYJRXCTGTFlxp"
    "Cv3ZdLmk19NJSvhC3xSElFyXUfHXLCsEgkshkn33mQxOQrFWlGfnIR9NafEmllhGNquX30"
    "2/XwK5INiZ4onwZi4fXgBeejILerj84uwzwvZN9H+U757KabMEsprOYr1jlLO8lZisGvGp"
    "mMJXT2TJyJ4I+KPI5iFBXkIMQiGSBvGbzgN5MavIcs6vK/2mxrqEAUL10ehcwGHHtpN6dQ"
    "kI1CxnNNnd6alupIgDeTilSlv74t7q5vc71VB232wrefD9okbQRlAk/hkqiQ3FBEs5ULZC"
    "LuBUZLPegSEs8oCJyLKaUhzOMXWLy/k0UuWUTNm8ItIq2Dr4gr9URq0VNknCY7BrwdvBPx"
    "sxM+Da4/DT6fHhQO3QbAG2bUtW3YVsVQMS+psSwOaW6UwYYhPRWDTYT7ShhsKrhYgcFeng"
    "UbVrDr2gaVW3p8giYJl4K+LpMQ3PWaQw9zoURs6QmZmS/1iC2P/J8smFuiqYBKBpcocD1Y"
    "SJE7tZ8Y8ubAD8NNK680odsJoaubaNrp/NLXR0cVbGOoVWgcy2tpC0B27ZEYB3VwTEs1Q4"
    "23mwD9rsqeh3fFmx7e5XY96ETG5hMZNXfbU+5mYVeEG1Zq2qxsA43bKodSm9oyfO3SxiTf"
    "5xTUrdCUaUndkDtuyO27A3Yxq+6TP6BFwdNeXYfAbkiszD5UENgwK7GYvIZZoEtpazGUmi"
    "JunSI6YHrXoTZh/W7G+zbCEcM86JrEJim2RV5Td0xqYqOJjd5JpBs2v5NIuRdkvKhnIecF"
    "n1HcLL9vohZ2SZHnRC80J1sBNM3JGg7SytHXAGwXoZ7u4paciJYDl5jydWaAagVskz/A75"
    "0Kh0DUbYs9AtEI0S6Btq0GvRKXgBtuAlrBSs/Kap/1jn3W0B7Gg9xIuAqZzgrr5txxc8Jq"
    "6KzGn9OSuiF33JD3lFF3ulJLZkR1U+56irXZPRXbtFaZYTOyujF33pgzsTsz347FRwgmRD"
    "qSOFfWYJs4NJBTXi/KFAl0BNAt7CrTIZG98JzrkMieNmwuJAJvSfBsZEwxY8Sq56NWyj7T"
    "wEjiAIZaGObktLc/g2cD3teblLL2YVnVCZvrLMvd2Okx2gCW11Lhp1hf64Z2VTSV01ddr7"
    "b6fL08zs/obL3nfqperUBHYqQSZXJWIDZk5MaGfyoidx0o68zg/LFKxCfsH0WBn0T/WRL/"
    "SfRZHQZqm5nQKwkD+W7GkYPZQw0AM1LP1GbFrgtLP1AzWPNrn6mjkO2kG+SkSq7tSXGq7U"
    "ku01b7QPaCKmsfyJ42bMFh0DqpUSc1bga0EjeHTs9bMT1PZ4O2e4dezEKLyFlIUZcws5AW"
    "Lz9n5ov4nLKo/tPV8AJRJk4l9U8VFYegYiTVocPX/df+WTLyKV7kT59ZQ48mgFsngJ5T6z"
    "uaQfVubgw8qbQx8KRkY+BJfmNg8slyQBbnE2TEOsL9tp1ToLngXlAGzQX3tGHbyQW7sCbn"
    "SE0dO3MpAQrDHZumP5tGujny05xpno7gKszzXIi32ET3Y6iJ6LKOnrRtoJYZz1s9enH76G"
    "0+3zHIIahJQtJSHTGdt4CmPn1RH1KiDdUDzUCeUcOWfmxyN19E2L8wy26Pqm9x9KCBw+oz"
    "XG7d7/JVpXItS13bVBwlkbqsYGrpxOZimpbOptYcrW1TV6+1HG0veIUOcWwwxKFJW/OkTX"
    "6xkzgjwsSb1j2zUyGt8dWkeP+4kybFe9qwmhQ3ZVlqUvycSHGLQG1+S2BMdru5LzCdvgp0"
    "fxR+mL0pXG6F1o6hsh3nSclOQWW3quJK0XsGO+pR0db/XhiJ2vrf04bNrZb6cJWVZkC9VU"
    "ufSNO+E2n0zq1279xK8XiFvZzl+cWmctbBoK3ktk13ZVayzg3VUUcdddRRMc2LO0afNC/e"
    "04aN/KUV910lTnryTMpHlj1Z0wU/EHrO7Umbl6Byx7ubOvRxTThyG6Xa1/krgRKzuMZCNB"
    "1Go5EzPJMs6UIq7DAic+LMqOuC6gZRuYyUdhgZyh7BnGoQlTOpsMOIuIRzUNIgJNe+xg5j"
    "YlLXsGF1nnhULM1rIfPZ1/VFqOowJPEn2Dh2H9Zdh0NlN6Crw6Bgd8GMUWOr8UCo6+ySvC"
    "0fZ7A6L/F0xmt4NX/nLK6vvZ4NdpdNez3/ZVO2ElNOCWqirD0gumF1XnB7A906O2AF0HQy"
    "9QaTqXWOQKtyBCp6fy4wW9zY4t8VevZ6LqAdnt0l32VUQhfSb+YIqgY2hMrDaDuyOR7IIj"
    "taYtyDHhC1naKyrzKoyKeO7U2mBXXU9yjsYlA+yjXNj8r0KoHEEoqVxqwazUo/v6ZabVsx"
    "eyVUK9G/6+aaKES7ud39daUTfV+XnOj7Wp/oq0/01UxSuwh0w2oXgWa7XWG7W+BthXkMa3"
    "G21ZMZ2szX4rfKcrUs+y3maykKVsbVcsRuo3wt/rpmFboW5B8soWpxlkI1mkbj+ks/4+Lr"
    "RhZlD/KDKyKwAs2OMENJlfnvttQR1HRv63TPtTzFRveSQ5KD+l3cT7ARWqdT3ptPeRet5r"
    "mqBK6Szz3EIs/0w7Hi9QERT7UVsixmlBDaniF91B7cyPc5BV6zAsVMSzZAMdvlqGkRowxf"
    "u9RXoJ1Ae+Er0E6gPW3YnBMoHHbjRT0XUE7uOTmAtBdNe9Ha7UVTD/EGsOx+5khu5mrTGR"
    "NfLHuMrXBjh8LZlK7QK/MzTWTVUXLfSYVvBUshBFotavgf9w0VIJdDbzERdtEDWbx8xJZH"
    "0BxTx1V8KnglNXfsjg04KBl7nLj9O4bgP2r20aVDZ9hZCAG/EP7oo1vZuULFouwnahLGKY"
    "Dt3DGpuY8CrJB/o8P47v7TvvAVJmDoo189aKCXYs0XWCavIfse8Wl0z+AJ3dHcG8OL9tEf"
    "U+k2gzrUjR7MwAyNCRL60HiBmM1eYnNGmeuLx5avlGfJG6AneNCggl87NqcKalvY5Qi6g0"
    "DB1C69nbj0hG87B1yxRy+o3kWH3kYOCJFDtU6GRiTQlWSXbSdn6MyXzR654s//9f3PsdwW"
    "/c91UwD1mSva4aA9Sbph1zpzZVu7Vku4U8He+WqR+po8Knmvl+6cGGCOGzEH4lPMkf1IHA"
    "cYC7IdBEswYSbyOVtUL0+sGtJbnWklMeijwF8gLiNuo+TTJIjZtZKRoUN/nKE5/J1U+2Iz"
    "XG1n7OpbzoElDPy/NOnaX9KVXzg062rf4qtZ1x6BqwnCXtiRmiDsacN2c79BC22eLgdKt5"
    "fJ3rLdBqV8NXVUmYKoZo8yK2ao+QPUllPTQDuS6mVWOHAsIHNL88irCgpyeUXmMHGIo7oQ"
    "RqGgS5xHGRwDkjoFMjUmwLCgMRkxuFJV745hy7KfBPsSTGxsc1HLnstuiSjzdQV6nyifps"
    "Rjggw34WBv6RT33VAz2T2Vc/5HOikEMCnVzHy/JRx/Pj5+8+b98dGbdx9O3r5/f/LhKAI0"
    "f6kM2Y9nXwS4qQU77yr3caq7VTwt1RUKtwUeHHQ7Q7WkLoMzlOoIZ9uGV4E40lc2kikPNS"
    "NkeWEdJtN7XzaNKVgZMCju+QoMNCOq9yPo/Qjal6CdRLphqzqJfFZZeztCVuw5JdJ3zsfW"
    "RhC77GTr1G6EaKQ2AGX3NyNk5602eSnTHw9QuClzXxco9lMqvmqw3FEZ6UdCCEm1ea+ksl"
    "bOBSmvSWdhkI0PDW94wuso/IeRCmgp4jzC44jcmch7KAwBkTMzsCypCBQ6BKTsudJrKQ/Z"
    "mEE3oi85YdCFFxX9jt9UQypmalD72wEj3/nI8VhgvySuaq/lSotnWz/0uRfeH50BscEMCD"
    "EV+aCohvcp82a5dTSFckp+x8bewemfQBvOT0fnwy99dASz9+CT5CKj4eXp19HVcHjRR6/v"
    "2Kfb6xvx588/ZxeC0jnizfH7d9H0IH6UzQzXF4Pz87xtHa4S60Ce07Fr2OE1T6/+MTj3wb"
    "0afoWJ4I4BtRsJ8AGrrcMcLsEjl8BNVF+FKl67FKLP9CQaw4GXJt+FBeQqJ9/iZUwh2pEJ"
    "eAsLWsKQpSrroNz3lJfWHuIde4jlIgjvd08Vh7D9dj38qm7JjFimGW8ZIPrNpAbvIYu6/K"
    "9NTeoH/3/vMUOSjrFHgXEw95W47d8PNtK6Ao9yMyZrsWRaTCjQXyzffAhLbFNIsMQ6c1RG"
    "VE9QO56gMoS/TlNmRHVT7rgpo6EF7IB7Csu22ChTiHbSKDupcv7nSfHxnye50z8jZIjj2I"
    "qPIxV7GfKSHYFUb7XQwVYdRdcN29JT/brvPdFhdB1Gb2qV3p9D/XZm6HT7TL/s1+YVkXTF"
    "B+mLY+lYVB7xqHbFaLq8B4pvUhRPL6gnT4yQlxJ3RnJ3DppbeEEcV4TCDXs2F7gjeBgC14"
    "XE1LGZ7bnWoudv0SHYmN4xX0jUE7t7xPc7sMiGcNG9Y8/QI3YoyKC5bVuuiNHzKaEOsp8Y"
    "moPmV+jagF4uA/F3zMCW4cmvk6AxduFfEYOnjLpTGbpH8tMl9JHIWD3IO37xIX6E7j4h8l"
    "A/e45OXuj9QTrS3tHAhI60b/aEN+2iPmjWRT2lJhnBFA5PrPCElcKaFdWbgjJzQbAr2Jhi"
    "xohVe+OlWr4RLrifOzAdj7kjMGFG86DrpbG+BtPGKkQ7J7w9wvh6baCbyPjQ7sW98EJp9+"
    "KeNmw3T3LR7rFn5h4r9u7EKGPPpHxk2ROVyRnI/vL7lfQXKBmR2mEzEGrP7Um3kE6Naelo"
    "aRSUyw2a4VsARDqwGgXkChstXaoKAdmiXzQaQ8v9o8nhVt1POkoP/goeU1EfQX25oQdnnJ"
    "8Iy7w7xRm9FeWER/UGnuBBulGRC/O72G2E4yrigKOsuOsrNeQHI/GYAgtc3DHMTGSSsTeZ"
    "wDNoL+ZuvJh+q9XxY8YS3fRkbuRzvibhmKrWojIvZiSiPZg6hWd/qZgifz1e32rN2zm558"
    "TDMt9sdupBl5B4RvkxJdyVpyLXazJXRSy8fZ2wKnnNjbLlmR1ekIzx3HM6EqOsxdkcl2He"
    "wsFy2hLXrcdb4tyIarwlus9PLiGmzxfyREKmVuTJSx1hwWBOsTGNszeibx0C1ZUfO5THIM"
    "wtEuaIvEI3UxKnYFAXxckbQGNcecxrMi9jSvzcjGRCh6sZzm4YjucoolvF9Cao3k1uc1KJ"
    "25yUcJuTPLdhNlc5lYqZTSSgeY2S18BMUrAT9xfLxgWgJoUyuN4Lqa4h+3l4+/H8FF1enX"
    "46uz4LtmhGJEVeTKcMXJ0OzhVArh6vy0vrzWb66EvN+HVUXTds1ai6MKnrOSISEs/Je1Pi"
    "iVDnX63rg+heJLOXIdOJnrJ68FxHRLcbEZXdroJbIeiddTwKYbC/gjMBqgointygofYJKH"
    "wJ1WXl9pKkg0E4Eqb4kSQ8COKhe0iEOsMNJzPP5fGWE4wM4nBorDvGvNlYfGX0HonsSn9L"
    "CZGeitDpofxuZ9qRKWHXn+3Uez/03o+OcDQdOdXmtuZRz6thczxKR8RXWKF1dHdz0d0q3C"
    "od42suBzcZcuwO0NtkWZKDLmdZIVWtwbIivrycZZ0xkz5S08OWDJ3KxM8qDKuiXDLVFLkg"
    "GwVk/yY213Mym3OxyR7HVK0HugzLM+WnN+kM/te7Y/7hYz4HE1sExUXKgNPN4k+G6rDs1i"
    "lUuF+TT8WivvJ2z5R4tzKbtrzfM0DKnhO20jnAKnkdMNv1ScB+owisbY+v065ZFbppd9y0"
    "sG45q7VoWlI35I4bkrDVDl5PyulG3P1orHn67ZqH3q7EbICSMWH9HqxhnGz46FvhX5S2O1"
    "FZfGUnqGQk9QEqufM84M1HtbP1snLapa50qQcwPdrmqGZGaV6yIxBvIbdUkLh6eZCRhE6C"
    "TEC4RhqkSl6bGzoRUsd5dABPN2zlRMjQB10zGzIj9pzCdzr+2ekdwR0FTQeNt7MleJ6M4j"
    "ac2tzNAHEW1Ozc37Zt1i2GrqX7rOMueutiOVflIvTZKr2y6Hxi2HlR7aVxeRk0RwKiv7np"
    "M5wM4vrZzA4xREni4pS63HYW+Wj9WtpkhjQHXWOPE7d/xxD8R80+unToDDsL9EAWfqG4QR"
    "+JnomepnagXXypXu6lDhX7dePf/eSZ/3yKOXrCbiTs15ZfzAqLQEDsxeZ4NheJ1jOwAcPH"
    "96v4Mpnz+/ooeTQhOvssXzv9aOjQJMyWI/o/wR50GOAyzQAG4wuFXiGX0SyKKilK9AxfTQ"
    "KHCkoKch6+RTNMYinMJpN/S46+FLh+VZ0lUduMK86SSONbkzHmhLdDGpuGeG85oz6StunP"
    "XtXdl6EU1ps0VLS8LrQKUQ2s9nfstb+jhcZFibujdWyyYfgaI5PqgdsAdM/MPbQbUj4gDj"
    "WmB6psef9KrzRBPq6zjHgXw6rTy7dOnB6J49Y82Dghoi2V+IBoGBo1QAyqdxPAjRwNDXfk"
    "yuXit+vh14IYfiySAfKWwQt+M6nBe8iiLv+rnbCWoCjeOkXPc8lZ2TysXpp3CwUfVZbNNp"
    "eXH/8DrrUgoA=="
)
